"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[293],{4293:(we,C,c)=>{c.r(C),c.d(C,{PerformanceModule:()=>Me});var d=c(6814),y=c(2595),T=c(627),g=c(7304),e=c(5879),v=c(7112),b=c(4468),h=c(431),s=c(6223),x=c(8704),p=c(1274),f=c(5722);const Z=["noticeSwal"];function E(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Name is required"),e.qZA())}function A(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Name must be at least 4 characters long"),e.qZA())}function M(i,r){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,E,2,0,"div",51),e.YNc(2,A,2,0,"div",51),e.qZA()),2&i){e.oxw();const t=e.MAs(26);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.minlength)}}function w(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Email is required"),e.qZA())}function k(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Email is not valid"),e.qZA())}function U(i,r){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,w,2,0,"div",51),e.YNc(2,k,2,0,"div",51),e.qZA()),2&i){e.oxw();const t=e.MAs(35);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.pattern)}}function q(i,r){1&i&&e._UZ(0,"div",60)}function S(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",52)(2,"div",53)(3,"input",54,55),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.userModel.role=n)}),e.qZA(),e.TgZ(5,"label",56)(6,"div",57),e._uU(7),e.ALo(8,"titlecase"),e.qZA(),e.TgZ(9,"div",58),e._uU(10),e.qZA()()()(),e.YNc(11,q,1,0,"div",59),e.qZA()}if(2&i){const t=r.$implicit,o=r.last,n=e.oxw(2);e.xp6(3),e.MGl("id","kt_modal_update_role_option_",t.id,""),e.Q6J("ngModel",n.userModel.role)("value",t.name)("checked",o),e.xp6(2),e.MGl("for","kt_modal_update_role_option_",t.id,""),e.xp6(2),e.hij(" ",e.lcZ(8,8,t.name)," "),e.xp6(3),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",!o)}}const D=function(i){return{"ki-up":i}};function Y(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"form",14,15),e.NdJ("ngSubmit",function(n){e.CHM(t);const a=e.MAs(1),l=e.oxw();return e.KtG(l.onSubmit(n,a))}),e.TgZ(2,"div",16)(3,"h4",17),e._uU(4,"User Details"),e.qZA(),e.TgZ(5,"button",18),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.dismiss("Cross click"))}),e.qZA()(),e.TgZ(6,"div",19)(7,"div",20)(8,"div",21),e._UZ(9,"app-keenicon",22),e.TgZ(10,"div",23)(11,"div",24)(12,"div",25),e._uU(13,"Updating customer details will receive a privacy audit. For more info, please read our "),e.TgZ(14,"a",26),e._uU(15,"Privacy Policy"),e.qZA()()()()(),e.TgZ(16,"div",27),e.NdJ("click",function(){e.CHM(t);const n=e.MAs(21);return e.KtG(n.toggle())}),e._uU(17,"User Information "),e.TgZ(18,"span",28),e._UZ(19,"i",29),e.qZA()(),e.TgZ(20,"div",30,31),e.NdJ("ngbCollapseChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.isCollapsed1=n)}),e.TgZ(22,"div",32)(23,"label",33),e._uU(24,"Name"),e.qZA(),e.TgZ(25,"input",34,35),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.userModel.name=n)}),e.qZA(),e.YNc(27,M,3,2,"div",36),e.qZA(),e.TgZ(28,"div",32)(29,"label",33)(30,"span"),e._uU(31,"Email"),e.qZA(),e.TgZ(32,"span",37),e._UZ(33,"app-keenicon",38),e.qZA()(),e.TgZ(34,"input",39,40),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.userModel.email=n)}),e.qZA(),e.YNc(36,U,3,2,"div",36),e.qZA(),e.TgZ(37,"div",41)(38,"label",42),e._uU(39,"Role"),e.qZA(),e.YNc(40,S,12,10,"div",43),e.ALo(41,"async"),e.qZA()()()(),e.TgZ(42,"div",44)(43,"button",45),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.dismiss("cancel"))}),e._uU(44," Discard "),e.qZA(),e.TgZ(45,"button",46)(46,"span",47),e._uU(47," Submit "),e.qZA(),e.TgZ(48,"span",48),e._uU(49," Please wait... "),e._UZ(50,"span",49),e.qZA()()()()}if(2&i){const t=e.MAs(1),o=e.oxw();let n;e.xp6(16),e.uIk("aria-expanded",!o.isCollapsed1),e.xp6(3),e.Q6J("ngClass",e.VKq(11,D,!o.isCollapsed1)),e.xp6(1),e.Q6J("ngbCollapse",o.isCollapsed1),e.xp6(5),e.Q6J("ngModel",o.userModel.name),e.xp6(2),e.Q6J("ngIf",t.submitted&&t.invalid),e.xp6(7),e.Q6J("ngModel",o.userModel.email),e.xp6(2),e.Q6J("ngIf",t.submitted&&t.invalid),e.xp6(4),e.Q6J("ngForOf",null==(n=e.lcZ(41,9,o.roles$))?null:n.data),e.xp6(5),e.uIk("data-kt-indicator",o.isLoading?"on":"off")}}let J=(()=>{class i{apiService;roleService;cdr;isCollapsed1=!1;isCollapsed2=!0;isLoading=!1;users;datatableConfig={};reloadEvent=new e.vpe;aUser;userModel={id:0,name:"",email:"",role:""};noticeSwal;swalOptions={};roles$;constructor(t,o,n){this.apiService=t,this.roleService=o,this.cdr=n}ngAfterViewInit(){}ngOnInit(){this.datatableConfig={serverSide:!0,stripeClasses:["odd-row","even-row"],scrollY:"calc(100vh - 200px)",scrollX:!0,ajax:(o,n)=>{this.apiService.getRecords(o).subscribe(a=>{n(a)})},columns:[{title:"EMPLOYEE CODE",data:"EMPLOYEE CODE"},{title:"Employee Name",data:"Employee Name"},{title:"Designation",data:"Designation"},{title:"City",data:"City"},{title:"State",data:"State"},{title:"Department",data:"Department"},{title:"Employment Status",data:"Employment Status"},{title:"Performance (Primary) % YTD",data:"Performance (Primary) % YTD"},{title:"YTD PDVT",data:"YTD PDVT"},{title:"YTD GRWTH",data:"YTD GRWTH"},{title:"Position Code",data:"Position Code"},{title:"ffcode_list",data:"ffcode_list"},{title:"Grade",data:"Grade"},{title:"Date of Joining",data:"Date of Joining"},{title:"Doctor Call Average % YTD",data:"Doctor Call Average % YTD"},{title:"MCL Coverage % YTD",data:"MCL Coverage % YTD"},{title:"Attrition % YTD",data:"Attrition % YTD"},{title:"Saleable Return",data:"Saleable Return"},{title:"Spread of Performance % YTD",data:"Spread of Performance % YTD"},{title:"Growth in Market Share %",data:"Growth in Market Share %"}],createdRow:function(o,n,a){$("td:eq(0)",o).addClass("d-flex align-items-center")}}}delete(t){this.apiService.deleteUser(t).subscribe(()=>{this.reloadEvent.emit(!0)})}edit(t){this.aUser=this.apiService.getUser(t),this.aUser.subscribe(o=>{this.userModel=o})}create(){this.userModel={id:0,name:"",email:""}}onSubmit(t,o){if(o&&o.invalid)return;this.isLoading=!0;const n={icon:"success",title:"Success!",text:this.userModel.id>0?"User updated successfully!":"User created successfully!"},a={icon:"error",title:"Error!",text:""},l=()=>{this.isLoading=!1};this.userModel.id>0?(()=>{this.apiService.updateUser(this.userModel.id,this.userModel).subscribe({next:()=>{this.showAlert(n),this.reloadEvent.emit(!0)},error:m=>{a.text=this.extractText(m.error),this.showAlert(a),this.isLoading=!1},complete:l})})():(()=>{this.userModel.password="test123",this.apiService.createUser(this.userModel).subscribe({next:()=>{this.showAlert(n),this.reloadEvent.emit(!0)},error:m=>{a.text=this.extractText(m.error),this.showAlert(a),this.isLoading=!1},complete:l})})()}extractText(t){var o=[];for(var n in t)"string"==typeof t[n]?o.push(t[n]):"object"==typeof t[n]&&(o=o.concat(this.extractText(t[n])));return Array.from(new Set(o)).join("\n")}showAlert(t){let o=t.icon?.toString()||"success";"error"===t.icon&&(o="danger"),this.swalOptions=Object.assign({buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-"+o}},t),this.cdr.detectChanges(),this.noticeSwal.fire()}ngOnDestroy(){this.reloadEvent.unsubscribe()}static \u0275fac=function(o){return new(o||i)(e.Y36(v.K),e.Y36(b.N),e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-all-employee"]],viewQuery:function(o,n){if(1&o&&e.Gf(Z,5),2&o){let a;e.iGM(a=e.CRH())&&(n.noticeSwal=a.first)}},decls:16,vars:4,consts:[[1,"card"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"d-flex","align-items-center","position-relative","my-1"],["name","magnifier",1,"fs-3","position-absolute","ms-5"],["type","text","data-action","filter","placeholder","Search Users",1,"form-control","form-control-solid","w-250px","ps-12"],[1,"card-toolbar"],[1,"d-flex","justify-content-end"],["type","button","data-action","create",1,"btn","btn-primary"],[1,"card-body","pt-0"],["route","/apps/users",3,"datatableConfig","reload","modal","deleteEvent","editEvent","createEvent"],[3,"swalOptions"],["noticeSwal",""],["formModal",""],[3,"ngSubmit"],["myForm","ngForm"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["id","kt_modal_update_customer_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_update_customer_header","data-kt-scroll-wrappers","#kt_modal_update_customer_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7","mw-650px"],[1,"notice","d-flex","bg-light-primary","rounded","border-primary","border","border-dashed","mb-9","p-6"],["name","information",1,"fs-2tx","text-primary","me-4"],[1,"d-flex","flex-stack","flex-grow-1"],[1,"fw-semibold"],[1,"fs-6","text-gray-700"],["href","#"],["data-bs-toggle","collapse","role","button","aria-controls","kt_modal_update_customer_user_info",1,"fw-bold","fs-3","rotate","collapsible","mb-7",3,"click"],[1,"ms-2","rotate-180"],[1,"ki-duotone","ki-down","fs-3",3,"ngClass"],[1,"collapse","show",3,"ngbCollapse","ngbCollapseChange"],["collapse1","ngbCollapse"],[1,"fv-row","mb-7"],[1,"required","fw-semibold","fs-6","mb-2"],["type","text","name","name","required","","minlength","4",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["name","ngModel"],["class","fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback",4,"ngIf"],["placement","end","ngbTooltip","Email address must be active",1,"ms-1"],["name","information",1,"fs-7"],["type","email","name","email","required","","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["email","ngModel"],[1,"mb-7"],[1,"required","fw-semibold","fs-6","mb-5"],[4,"ngFor","ngForOf"],[1,"modal-footer","flex-center"],["type","reset","id","kt_modal_update_customer_cancel",1,"btn","btn-light","me-3",3,"click"],["type","submit","id","kt_modal_update_customer_submit",1,"btn","btn-primary"],[1,"indicator-label"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"fv-plugins-message-container","fv-plugins-message-container--enabled","invalid-feedback"],[4,"ngIf"],[1,"d-flex","fv-row"],[1,"form-check","form-check-custom","form-check-solid"],["name","role","type","radio",1,"form-check-input","me-3",3,"id","ngModel","value","checked","ngModelChange"],["role","ngModel"],[1,"form-check-label",3,"for"],[1,"fw-bold","text-gray-800"],[1,"text-gray-600"],["class","separator separator-dashed my-5",4,"ngIf"],[1,"separator","separator-dashed","my-5"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"app-keenicon",4)(5,"input",5),e.qZA()(),e.TgZ(6,"div",6)(7,"div",7)(8,"button",8),e._uU(9," Add User "),e.qZA()()()(),e.TgZ(10,"div",9)(11,"app-crud",10),e.NdJ("deleteEvent",function(l){return n.delete(l)})("editEvent",function(l){return n.edit(l)})("createEvent",function(){return n.create()}),e.qZA()()(),e._UZ(12,"swal",11,12),e.YNc(14,Y,51,13,"ng-template",null,13,e.W1O)),2&o){const a=e.MAs(15);e.xp6(11),e.Q6J("datatableConfig",n.datatableConfig)("reload",n.reloadEvent)("modal",a),e.xp6(1),e.Q6J("swalOptions",n.swalOptions)}},dependencies:[d.mk,d.sg,d.O5,h.D,s._Y,s.Fj,s._,s.JJ,s.JL,s.Q7,s.wO,s.c5,s.On,s.F,x.q,p._D,p._L,f.q1,d.Ov,d.rS],encapsulation:2})}return i})();var N=c(5861),P=c(1647);const O=["modal"],Q=["noticeSwal"];function I(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Name is required"),e.qZA())}function L(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Name must be at least 4 characters long"),e.qZA())}function F(i,r){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,I,2,0,"div",51),e.YNc(2,L,2,0,"div",51),e.qZA()),2&i){e.oxw();const t=e.MAs(26);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.minlength)}}function H(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Email is required"),e.qZA())}function K(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Email is not valid"),e.qZA())}function R(i,r){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,H,2,0,"div",51),e.YNc(2,K,2,0,"div",51),e.qZA()),2&i){e.oxw();const t=e.MAs(35);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.pattern)}}function B(i,r){1&i&&e._UZ(0,"div",60)}function j(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",52)(2,"div",53)(3,"input",54,55),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.userModel.role=n)}),e.qZA(),e.TgZ(5,"label",56)(6,"div",57),e._uU(7),e.ALo(8,"titlecase"),e.qZA(),e.TgZ(9,"div",58),e._uU(10),e.qZA()()()(),e.YNc(11,B,1,0,"div",59),e.qZA()}if(2&i){const t=r.$implicit,o=r.last,n=e.oxw(2);e.xp6(3),e.MGl("id","kt_modal_update_role_option_",t.id,""),e.Q6J("ngModel",n.userModel.role)("value",t.name)("checked",o),e.xp6(2),e.MGl("for","kt_modal_update_role_option_",t.id,""),e.xp6(2),e.hij(" ",e.lcZ(8,8,t.name)," "),e.xp6(3),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",!o)}}const z=function(i){return{"ki-up":i}};function V(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"form",14,15),e.NdJ("ngSubmit",function(n){e.CHM(t);const a=e.MAs(1),l=e.oxw();return e.KtG(l.onSubmit(n,a))}),e.TgZ(2,"div",16)(3,"h4",17),e._uU(4,"User Details"),e.qZA(),e.TgZ(5,"button",18),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.dismiss("Cross click"))}),e.qZA()(),e.TgZ(6,"div",19)(7,"div",20)(8,"div",21),e._UZ(9,"app-keenicon",22),e.TgZ(10,"div",23)(11,"div",24)(12,"div",25),e._uU(13,"Updating customer details will receive a privacy audit. For more info, please read our "),e.TgZ(14,"a",26),e._uU(15,"Privacy Policy"),e.qZA()()()()(),e.TgZ(16,"div",27),e.NdJ("click",function(){e.CHM(t);const n=e.MAs(21);return e.KtG(n.toggle())}),e._uU(17,"User Information "),e.TgZ(18,"span",28),e._UZ(19,"i",29),e.qZA()(),e.TgZ(20,"div",30,31),e.NdJ("ngbCollapseChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.isCollapsed1=n)}),e.TgZ(22,"div",32)(23,"label",33),e._uU(24,"Name"),e.qZA(),e.TgZ(25,"input",34,35),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.userModel.name=n)}),e.qZA(),e.YNc(27,F,3,2,"div",36),e.qZA(),e.TgZ(28,"div",32)(29,"label",33)(30,"span"),e._uU(31,"Email"),e.qZA(),e.TgZ(32,"span",37),e._UZ(33,"app-keenicon",38),e.qZA()(),e.TgZ(34,"input",39,40),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.userModel.email=n)}),e.qZA(),e.YNc(36,R,3,2,"div",36),e.qZA(),e.TgZ(37,"div",41)(38,"label",42),e._uU(39,"Role"),e.qZA(),e.YNc(40,j,12,10,"div",43),e.ALo(41,"async"),e.qZA()()()(),e.TgZ(42,"div",44)(43,"button",45),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.dismiss("cancel"))}),e._uU(44," Discard "),e.qZA(),e.TgZ(45,"button",46)(46,"span",47),e._uU(47," Submit "),e.qZA(),e.TgZ(48,"span",48),e._uU(49," Please wait... "),e._UZ(50,"span",49),e.qZA()()()()}if(2&i){const t=e.MAs(1),o=e.oxw();let n;e.xp6(16),e.uIk("aria-expanded",!o.isCollapsed1),e.xp6(3),e.Q6J("ngClass",e.VKq(11,z,!o.isCollapsed1)),e.xp6(1),e.Q6J("ngbCollapse",o.isCollapsed1),e.xp6(5),e.Q6J("ngModel",o.userModel.name),e.xp6(2),e.Q6J("ngIf",t.submitted&&t.invalid),e.xp6(7),e.Q6J("ngModel",o.userModel.email),e.xp6(2),e.Q6J("ngIf",t.submitted&&t.invalid),e.xp6(4),e.Q6J("ngForOf",null==(n=e.lcZ(41,9,o.roles$))?null:n.data),e.xp6(5),e.uIk("data-kt-indicator",o.isLoading?"on":"off")}}const X=["noticeSwal"];function ee(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Name is required"),e.qZA())}function te(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Name must be at least 4 characters long"),e.qZA())}function oe(i,r){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,ee,2,0,"div",51),e.YNc(2,te,2,0,"div",51),e.qZA()),2&i){e.oxw();const t=e.MAs(26);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.minlength)}}function ne(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Email is required"),e.qZA())}function ie(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Email is not valid"),e.qZA())}function ae(i,r){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,ne,2,0,"div",51),e.YNc(2,ie,2,0,"div",51),e.qZA()),2&i){e.oxw();const t=e.MAs(35);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.pattern)}}function re(i,r){1&i&&e._UZ(0,"div",60)}function le(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",52)(2,"div",53)(3,"input",54,55),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.userModel.role=n)}),e.qZA(),e.TgZ(5,"label",56)(6,"div",57),e._uU(7),e.ALo(8,"titlecase"),e.qZA(),e.TgZ(9,"div",58),e._uU(10),e.qZA()()()(),e.YNc(11,re,1,0,"div",59),e.qZA()}if(2&i){const t=r.$implicit,o=r.last,n=e.oxw(2);e.xp6(3),e.MGl("id","kt_modal_update_role_option_",t.id,""),e.Q6J("ngModel",n.userModel.role)("value",t.name)("checked",o),e.xp6(2),e.MGl("for","kt_modal_update_role_option_",t.id,""),e.xp6(2),e.hij(" ",e.lcZ(8,8,t.name)," "),e.xp6(3),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",!o)}}const se=function(i){return{"ki-up":i}};function de(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"form",14,15),e.NdJ("ngSubmit",function(n){e.CHM(t);const a=e.MAs(1),l=e.oxw();return e.KtG(l.onSubmit(n,a))}),e.TgZ(2,"div",16)(3,"h4",17),e._uU(4,"User Details"),e.qZA(),e.TgZ(5,"button",18),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.dismiss("Cross click"))}),e.qZA()(),e.TgZ(6,"div",19)(7,"div",20)(8,"div",21),e._UZ(9,"app-keenicon",22),e.TgZ(10,"div",23)(11,"div",24)(12,"div",25),e._uU(13,"Updating customer details will receive a privacy audit. For more info, please read our "),e.TgZ(14,"a",26),e._uU(15,"Privacy Policy"),e.qZA()()()()(),e.TgZ(16,"div",27),e.NdJ("click",function(){e.CHM(t);const n=e.MAs(21);return e.KtG(n.toggle())}),e._uU(17,"User Information "),e.TgZ(18,"span",28),e._UZ(19,"i",29),e.qZA()(),e.TgZ(20,"div",30,31),e.NdJ("ngbCollapseChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.isCollapsed1=n)}),e.TgZ(22,"div",32)(23,"label",33),e._uU(24,"Name"),e.qZA(),e.TgZ(25,"input",34,35),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.userModel.name=n)}),e.qZA(),e.YNc(27,oe,3,2,"div",36),e.qZA(),e.TgZ(28,"div",32)(29,"label",33)(30,"span"),e._uU(31,"Email"),e.qZA(),e.TgZ(32,"span",37),e._UZ(33,"app-keenicon",38),e.qZA()(),e.TgZ(34,"input",39,40),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.userModel.email=n)}),e.qZA(),e.YNc(36,ae,3,2,"div",36),e.qZA(),e.TgZ(37,"div",41)(38,"label",42),e._uU(39,"Role"),e.qZA(),e.YNc(40,le,12,10,"div",43),e.ALo(41,"async"),e.qZA()()()(),e.TgZ(42,"div",44)(43,"button",45),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.dismiss("cancel"))}),e._uU(44," Discard "),e.qZA(),e.TgZ(45,"button",46)(46,"span",47),e._uU(47," Submit "),e.qZA(),e.TgZ(48,"span",48),e._uU(49," Please wait... "),e._UZ(50,"span",49),e.qZA()()()()}if(2&i){const t=e.MAs(1),o=e.oxw();let n;e.xp6(16),e.uIk("aria-expanded",!o.isCollapsed1),e.xp6(3),e.Q6J("ngClass",e.VKq(11,se,!o.isCollapsed1)),e.xp6(1),e.Q6J("ngbCollapse",o.isCollapsed1),e.xp6(5),e.Q6J("ngModel",o.userModel.name),e.xp6(2),e.Q6J("ngIf",t.submitted&&t.invalid),e.xp6(7),e.Q6J("ngModel",o.userModel.email),e.xp6(2),e.Q6J("ngIf",t.submitted&&t.invalid),e.xp6(4),e.Q6J("ngForOf",null==(n=e.lcZ(41,9,o.roles$))?null:n.data),e.xp6(5),e.uIk("data-kt-indicator",o.isLoading?"on":"off")}}const me=["noticeSwal"];function pe(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Name is required"),e.qZA())}function ue(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Name must be at least 4 characters long"),e.qZA())}function _e(i,r){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,pe,2,0,"div",51),e.YNc(2,ue,2,0,"div",51),e.qZA()),2&i){e.oxw();const t=e.MAs(26);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.minlength)}}function ge(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Email is required"),e.qZA())}function fe(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Email is not valid"),e.qZA())}function ve(i,r){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,ge,2,0,"div",51),e.YNc(2,fe,2,0,"div",51),e.qZA()),2&i){e.oxw();const t=e.MAs(35);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.pattern)}}function be(i,r){1&i&&e._UZ(0,"div",60)}function he(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",52)(2,"div",53)(3,"input",54,55),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.userModel.role=n)}),e.qZA(),e.TgZ(5,"label",56)(6,"div",57),e._uU(7),e.ALo(8,"titlecase"),e.qZA(),e.TgZ(9,"div",58),e._uU(10),e.qZA()()()(),e.YNc(11,be,1,0,"div",59),e.qZA()}if(2&i){const t=r.$implicit,o=r.last,n=e.oxw(2);e.xp6(3),e.MGl("id","kt_modal_update_role_option_",t.id,""),e.Q6J("ngModel",n.userModel.role)("value",t.name)("checked",o),e.xp6(2),e.MGl("for","kt_modal_update_role_option_",t.id,""),e.xp6(2),e.hij(" ",e.lcZ(8,8,t.name)," "),e.xp6(3),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",!o)}}const xe=function(i){return{"ki-up":i}};function Ce(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"form",14,15),e.NdJ("ngSubmit",function(n){e.CHM(t);const a=e.MAs(1),l=e.oxw();return e.KtG(l.onSubmit(n,a))}),e.TgZ(2,"div",16)(3,"h4",17),e._uU(4,"User Details"),e.qZA(),e.TgZ(5,"button",18),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.dismiss("Cross click"))}),e.qZA()(),e.TgZ(6,"div",19)(7,"div",20)(8,"div",21),e._UZ(9,"app-keenicon",22),e.TgZ(10,"div",23)(11,"div",24)(12,"div",25),e._uU(13,"Updating customer details will receive a privacy audit. For more info, please read our "),e.TgZ(14,"a",26),e._uU(15,"Privacy Policy"),e.qZA()()()()(),e.TgZ(16,"div",27),e.NdJ("click",function(){e.CHM(t);const n=e.MAs(21);return e.KtG(n.toggle())}),e._uU(17,"User Information "),e.TgZ(18,"span",28),e._UZ(19,"i",29),e.qZA()(),e.TgZ(20,"div",30,31),e.NdJ("ngbCollapseChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.isCollapsed1=n)}),e.TgZ(22,"div",32)(23,"label",33),e._uU(24,"Name"),e.qZA(),e.TgZ(25,"input",34,35),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.userModel.name=n)}),e.qZA(),e.YNc(27,_e,3,2,"div",36),e.qZA(),e.TgZ(28,"div",32)(29,"label",33)(30,"span"),e._uU(31,"Email"),e.qZA(),e.TgZ(32,"span",37),e._UZ(33,"app-keenicon",38),e.qZA()(),e.TgZ(34,"input",39,40),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.userModel.email=n)}),e.qZA(),e.YNc(36,ve,3,2,"div",36),e.qZA(),e.TgZ(37,"div",41)(38,"label",42),e._uU(39,"Role"),e.qZA(),e.YNc(40,he,12,10,"div",43),e.ALo(41,"async"),e.qZA()()()(),e.TgZ(42,"div",44)(43,"button",45),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.dismiss("cancel"))}),e._uU(44," Discard "),e.qZA(),e.TgZ(45,"button",46)(46,"span",47),e._uU(47," Submit "),e.qZA(),e.TgZ(48,"span",48),e._uU(49," Please wait... "),e._UZ(50,"span",49),e.qZA()()()()}if(2&i){const t=e.MAs(1),o=e.oxw();let n;e.xp6(16),e.uIk("aria-expanded",!o.isCollapsed1),e.xp6(3),e.Q6J("ngClass",e.VKq(11,xe,!o.isCollapsed1)),e.xp6(1),e.Q6J("ngbCollapse",o.isCollapsed1),e.xp6(5),e.Q6J("ngModel",o.userModel.name),e.xp6(2),e.Q6J("ngIf",t.submitted&&t.invalid),e.xp6(7),e.Q6J("ngModel",o.userModel.email),e.xp6(2),e.Q6J("ngIf",t.submitted&&t.invalid),e.xp6(4),e.Q6J("ngForOf",null==(n=e.lcZ(41,9,o.roles$))?null:n.data),e.xp6(5),e.uIk("data-kt-indicator",o.isLoading?"on":"off")}}const ye=[{path:"",component:(()=>{class i{modalConfig={modalTitle:"Modal title",dismissButtonLabel:"Submit",closeButtonLabel:"Cancel"};modalComponent;toolbarButtonMarginClass="ms-1 ms-lg-3";toolbarButtonHeightClass="w-30px h-30px w-md-40px h-md-40px";toolbarUserAvatarHeightClass="symbol-30px symbol-md-40px";toolbarButtonIconSizeClass="svg-icon-1";headerLeft="menu";constructor(){}openModal(){var t=this;return(0,N.Z)(function*(){return yield t.modalComponent.open()})()}static \u0275fac=function(o){return new(o||i)};static \u0275cmp=e.Xpm({type:i,selectors:[["app-performance"]],viewQuery:function(o,n){if(1&o&&e.Gf(O,5),2&o){let a;e.iGM(a=e.CRH())&&(n.modalComponent=a.first)}},decls:32,vars:0,consts:[[1,"row","g-5","g-xl-8"],[1,"d-flex","flex-wrap","flex-stack","mb-6"],[1,"fw-bolder","my-2"],[1,"dropdown"],["type","button","data-kt-menu-trigger","click","data-kt-menu-placement","bottom-start","data-kt-menu-offset","30px, 30px",1,"btn","btn-primary","rotate"],[1,"svg-icon","fs-3","rotate-180","ms-3","me-0"],["data-kt-menu","true",1,"menu","menu-sub","menu-sub-dropdown","menu-column","menu-rounded","menu-gray-800","menu-state-bg-light-primary","fw-semibold","w-auto","min-w-200","mw-300px",2,"position","relative"],[1,"separator","mb-3","opacity-75"],[1,"menu-items","px-3"],[1,"menu-item"],["href","#",1,"menu-link"],[1,"separator","mt-3","opacity-75"],[1,"col-xl-3"],["svgIcon","./assets/media/icons/duotune/general/chart-simple","color","white","routerLink","/Performance/allemployee","routerLinkActive","active","title","3500","description","All Employee",1,"card","bg-light-success","hoverable","card-xl-stretch","mb-xl-8"],["svgIcon","./assets/media/icons/duotune/finance/briefcase","color","white","routerLink","/Performance/confirmedemployee","routerLinkActive","active","title","2250","description","Confirmed Employee",1,"card","bg-light-primary","hoverable","card-xl-stretch","mb-xl-8"],["svgIcon","./assets/media/icons/duotune/ecommerce/cheque","color","white","routerLink","/Performance/probationemployee","routerLinkActive","active","title","250","description"," Probation Employee",1,"card","bg-light-warning","hoverable","card-xl-stretch","mb-xl-8"],["svgIcon","./assets/media/icons/duotune/graphs/chart-pie-simple","color","white","routerLink","/Performance/exitedemployee","routerLinkActive","active","title","1000","description"," Exited Employee",1,"card","bg-light-danger","hoverable","card-xl-stretch","mb-5","mb-xl-8"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3," Performance "),e.qZA(),e.TgZ(4,"div",3)(5,"button",4),e._uU(6," Click to open menu n.... "),e.TgZ(7,"span",5),e._uU(8,"..."),e.qZA()(),e.TgZ(9,"div",6),e._UZ(10,"div",7),e.TgZ(11,"div",8)(12,"div",9)(13,"a",10),e._uU(14,"New Ticket yets"),e.qZA()(),e.TgZ(15,"div",9)(16,"a",10),e._uU(17,"New Customer"),e.qZA()(),e.TgZ(18,"div",9)(19,"a",10),e._uU(20,"New Customer"),e.qZA()()(),e._UZ(21,"div",11),e.qZA()()()(),e.TgZ(22,"div",0)(23,"div",12),e._UZ(24,"app-stats-widget5",13),e.qZA(),e.TgZ(25,"div",12),e._UZ(26,"app-stats-widget5",14),e.qZA(),e.TgZ(27,"div",12),e._UZ(28,"app-stats-widget5",15),e.qZA(),e.TgZ(29,"div",12),e._UZ(30,"app-stats-widget5",16),e.qZA()(),e._UZ(31,"router-outlet"))},dependencies:[g.lC,g.rH,g.Od,P.T],styles:["[_nghost-%COMP%]{width:100%}.h-100[_ngcontent-%COMP%]{height:100%}.menu[_ngcontent-%COMP%]{position:relative!important}"]})}return i})(),children:[{path:"allemployee",component:J},{path:"probationemployee",component:(()=>{class i{apiService;roleService;cdr;isCollapsed1=!1;isCollapsed2=!0;isLoading=!1;users;datatableConfig={};reloadEvent=new e.vpe;aUser;userModel={id:0,name:"",email:"",role:""};noticeSwal;swalOptions={};roles$;constructor(t,o,n){this.apiService=t,this.roleService=o,this.cdr=n}ngAfterViewInit(){}ngOnInit(){this.datatableConfig={serverSide:!0,stripeClasses:["odd-row","even-row"],scrollY:"calc(100vh - 200px)",scrollX:!0,ajax:(o,n)=>{this.apiService.getRecords_Status(o,"Probation").subscribe(a=>{n(a)})},columns:[{title:"EMPLOYEE CODE",data:"EMPLOYEE CODE"},{title:"Employee Name",data:"Employee Name"},{title:"Designation",data:"Designation"},{title:"City",data:"City"},{title:"State",data:"State"},{title:"Department",data:"Department"},{title:"Employment Status",data:"Employment Status"},{title:"Performance (Primary) % YTD",data:"Performance (Primary) % YTD"},{title:"YTD PDVT",data:"YTD PDVT"},{title:"YTD GRWTH",data:"YTD GRWTH"},{title:"Position Code",data:"Position Code"},{title:"ffcode_list",data:"ffcode_list"},{title:"Grade",data:"Grade"},{title:"Date of Joining",data:"Date of Joining"},{title:"Doctor Call Average % YTD",data:"Doctor Call Average % YTD"},{title:"MCL Coverage % YTD",data:"MCL Coverage % YTD"},{title:"Attrition % YTD",data:"Attrition % YTD"},{title:"Saleable Return",data:"Saleable Return"},{title:"Spread of Performance % YTD",data:"Spread of Performance % YTD"},{title:"Growth in Market Share %",data:"Growth in Market Share %"}],createdRow:function(o,n,a){$("td:eq(0)",o).addClass("d-flex align-items-center")}}}delete(t){this.apiService.deleteUser(t).subscribe(()=>{this.reloadEvent.emit(!0)})}edit(t){this.aUser=this.apiService.getUser(t),this.aUser.subscribe(o=>{this.userModel=o})}create(){this.userModel={id:0,name:"",email:""}}onSubmit(t,o){if(o&&o.invalid)return;this.isLoading=!0;const n={icon:"success",title:"Success!",text:this.userModel.id>0?"User updated successfully!":"User created successfully!"},a={icon:"error",title:"Error!",text:""},l=()=>{this.isLoading=!1};this.userModel.id>0?(()=>{this.apiService.updateUser(this.userModel.id,this.userModel).subscribe({next:()=>{this.showAlert(n),this.reloadEvent.emit(!0)},error:m=>{a.text=this.extractText(m.error),this.showAlert(a),this.isLoading=!1},complete:l})})():(()=>{this.userModel.password="test123",this.apiService.createUser(this.userModel).subscribe({next:()=>{this.showAlert(n),this.reloadEvent.emit(!0)},error:m=>{a.text=this.extractText(m.error),this.showAlert(a),this.isLoading=!1},complete:l})})()}extractText(t){var o=[];for(var n in t)"string"==typeof t[n]?o.push(t[n]):"object"==typeof t[n]&&(o=o.concat(this.extractText(t[n])));return Array.from(new Set(o)).join("\n")}showAlert(t){let o=t.icon?.toString()||"success";"error"===t.icon&&(o="danger"),this.swalOptions=Object.assign({buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-"+o}},t),this.cdr.detectChanges(),this.noticeSwal.fire()}ngOnDestroy(){this.reloadEvent.unsubscribe()}static \u0275fac=function(o){return new(o||i)(e.Y36(v.K),e.Y36(b.N),e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-probation-employee"]],viewQuery:function(o,n){if(1&o&&e.Gf(Q,5),2&o){let a;e.iGM(a=e.CRH())&&(n.noticeSwal=a.first)}},decls:16,vars:4,consts:[[1,"card"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"d-flex","align-items-center","position-relative","my-1"],["name","magnifier",1,"fs-3","position-absolute","ms-5"],["type","text","data-action","filter","placeholder","Search Users",1,"form-control","form-control-solid","w-250px","ps-12"],[1,"card-toolbar"],[1,"d-flex","justify-content-end"],["type","button","data-action","create",1,"btn","btn-primary"],[1,"card-body","pt-0"],["route","/apps/users",3,"datatableConfig","reload","modal","deleteEvent","editEvent","createEvent"],[3,"swalOptions"],["noticeSwal",""],["formModal",""],[3,"ngSubmit"],["myForm","ngForm"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["id","kt_modal_update_customer_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_update_customer_header","data-kt-scroll-wrappers","#kt_modal_update_customer_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7","mw-650px"],[1,"notice","d-flex","bg-light-primary","rounded","border-primary","border","border-dashed","mb-9","p-6"],["name","information",1,"fs-2tx","text-primary","me-4"],[1,"d-flex","flex-stack","flex-grow-1"],[1,"fw-semibold"],[1,"fs-6","text-gray-700"],["href","#"],["data-bs-toggle","collapse","role","button","aria-controls","kt_modal_update_customer_user_info",1,"fw-bold","fs-3","rotate","collapsible","mb-7",3,"click"],[1,"ms-2","rotate-180"],[1,"ki-duotone","ki-down","fs-3",3,"ngClass"],[1,"collapse","show",3,"ngbCollapse","ngbCollapseChange"],["collapse1","ngbCollapse"],[1,"fv-row","mb-7"],[1,"required","fw-semibold","fs-6","mb-2"],["type","text","name","name","required","","minlength","4",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["name","ngModel"],["class","fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback",4,"ngIf"],["placement","end","ngbTooltip","Email address must be active",1,"ms-1"],["name","information",1,"fs-7"],["type","email","name","email","required","","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["email","ngModel"],[1,"mb-7"],[1,"required","fw-semibold","fs-6","mb-5"],[4,"ngFor","ngForOf"],[1,"modal-footer","flex-center"],["type","reset","id","kt_modal_update_customer_cancel",1,"btn","btn-light","me-3",3,"click"],["type","submit","id","kt_modal_update_customer_submit",1,"btn","btn-primary"],[1,"indicator-label"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"fv-plugins-message-container","fv-plugins-message-container--enabled","invalid-feedback"],[4,"ngIf"],[1,"d-flex","fv-row"],[1,"form-check","form-check-custom","form-check-solid"],["name","role","type","radio",1,"form-check-input","me-3",3,"id","ngModel","value","checked","ngModelChange"],["role","ngModel"],[1,"form-check-label",3,"for"],[1,"fw-bold","text-gray-800"],[1,"text-gray-600"],["class","separator separator-dashed my-5",4,"ngIf"],[1,"separator","separator-dashed","my-5"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"app-keenicon",4)(5,"input",5),e.qZA()(),e.TgZ(6,"div",6)(7,"div",7)(8,"button",8),e._uU(9," Add User "),e.qZA()()()(),e.TgZ(10,"div",9)(11,"app-crud",10),e.NdJ("deleteEvent",function(l){return n.delete(l)})("editEvent",function(l){return n.edit(l)})("createEvent",function(){return n.create()}),e.qZA()()(),e._UZ(12,"swal",11,12),e.YNc(14,V,51,13,"ng-template",null,13,e.W1O)),2&o){const a=e.MAs(15);e.xp6(11),e.Q6J("datatableConfig",n.datatableConfig)("reload",n.reloadEvent)("modal",a),e.xp6(1),e.Q6J("swalOptions",n.swalOptions)}},dependencies:[d.mk,d.sg,d.O5,h.D,s._Y,s.Fj,s._,s.JJ,s.JL,s.Q7,s.wO,s.c5,s.On,s.F,x.q,p._D,p._L,f.q1,d.Ov,d.rS],encapsulation:2})}return i})()},{path:"confirmedemployee",component:(()=>{class i{apiService;roleService;cdr;isCollapsed1=!1;isCollapsed2=!0;isLoading=!1;users;datatableConfig={};reloadEvent=new e.vpe;aUser;userModel={id:0,name:"",email:"",role:""};noticeSwal;swalOptions={};roles$;constructor(t,o,n){this.apiService=t,this.roleService=o,this.cdr=n}ngAfterViewInit(){}ngOnInit(){this.datatableConfig={serverSide:!0,stripeClasses:["odd-row","even-row"],scrollY:"calc(100vh - 200px)",scrollX:!0,ajax:(o,n)=>{this.apiService.getRecords_Status(o,"Active").subscribe(a=>{n(a)})},columns:[{title:"EMPLOYEE CODE",data:"EMPLOYEE CODE"},{title:"Employee Name",data:"Employee Name"},{title:"Designation",data:"Designation"},{title:"City",data:"City"},{title:"State",data:"State"},{title:"Department",data:"Department"},{title:"Employment Status",data:"Employment Status"},{title:"Performance (Primary) % YTD",data:"Performance (Primary) % YTD"},{title:"YTD PDVT",data:"YTD PDVT"},{title:"YTD GRWTH",data:"YTD GRWTH"},{title:"Position Code",data:"Position Code"},{title:"ffcode_list",data:"ffcode_list"},{title:"Grade",data:"Grade"},{title:"Date of Joining",data:"Date of Joining"},{title:"Doctor Call Average % YTD",data:"Doctor Call Average % YTD"},{title:"MCL Coverage % YTD",data:"MCL Coverage % YTD"},{title:"Attrition % YTD",data:"Attrition % YTD"},{title:"Saleable Return",data:"Saleable Return"},{title:"Spread of Performance % YTD",data:"Spread of Performance % YTD"},{title:"Growth in Market Share %",data:"Growth in Market Share %"}],createdRow:function(o,n,a){$("td:eq(0)",o).addClass("d-flex align-items-center")}}}delete(t){this.apiService.deleteUser(t).subscribe(()=>{this.reloadEvent.emit(!0)})}edit(t){this.aUser=this.apiService.getUser(t),this.aUser.subscribe(o=>{this.userModel=o})}create(){this.userModel={id:0,name:"",email:""}}onSubmit(t,o){if(o&&o.invalid)return;this.isLoading=!0;const n={icon:"success",title:"Success!",text:this.userModel.id>0?"User updated successfully!":"User created successfully!"},a={icon:"error",title:"Error!",text:""},l=()=>{this.isLoading=!1};this.userModel.id>0?(()=>{this.apiService.updateUser(this.userModel.id,this.userModel).subscribe({next:()=>{this.showAlert(n),this.reloadEvent.emit(!0)},error:m=>{a.text=this.extractText(m.error),this.showAlert(a),this.isLoading=!1},complete:l})})():(()=>{this.userModel.password="test123",this.apiService.createUser(this.userModel).subscribe({next:()=>{this.showAlert(n),this.reloadEvent.emit(!0)},error:m=>{a.text=this.extractText(m.error),this.showAlert(a),this.isLoading=!1},complete:l})})()}extractText(t){var o=[];for(var n in t)"string"==typeof t[n]?o.push(t[n]):"object"==typeof t[n]&&(o=o.concat(this.extractText(t[n])));return Array.from(new Set(o)).join("\n")}showAlert(t){let o=t.icon?.toString()||"success";"error"===t.icon&&(o="danger"),this.swalOptions=Object.assign({buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-"+o}},t),this.cdr.detectChanges(),this.noticeSwal.fire()}ngOnDestroy(){this.reloadEvent.unsubscribe()}static \u0275fac=function(o){return new(o||i)(e.Y36(v.K),e.Y36(b.N),e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-confirmed-employee"]],viewQuery:function(o,n){if(1&o&&e.Gf(X,5),2&o){let a;e.iGM(a=e.CRH())&&(n.noticeSwal=a.first)}},decls:16,vars:4,consts:[[1,"card"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"d-flex","align-items-center","position-relative","my-1"],["name","magnifier",1,"fs-3","position-absolute","ms-5"],["type","text","data-action","filter","placeholder","Search Users",1,"form-control","form-control-solid","w-250px","ps-12"],[1,"card-toolbar"],[1,"d-flex","justify-content-end"],["type","button","data-action","create",1,"btn","btn-primary"],[1,"card-body","pt-0"],["route","/apps/users",3,"datatableConfig","reload","modal","deleteEvent","editEvent","createEvent"],[3,"swalOptions"],["noticeSwal",""],["formModal",""],[3,"ngSubmit"],["myForm","ngForm"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["id","kt_modal_update_customer_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_update_customer_header","data-kt-scroll-wrappers","#kt_modal_update_customer_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7","mw-650px"],[1,"notice","d-flex","bg-light-primary","rounded","border-primary","border","border-dashed","mb-9","p-6"],["name","information",1,"fs-2tx","text-primary","me-4"],[1,"d-flex","flex-stack","flex-grow-1"],[1,"fw-semibold"],[1,"fs-6","text-gray-700"],["href","#"],["data-bs-toggle","collapse","role","button","aria-controls","kt_modal_update_customer_user_info",1,"fw-bold","fs-3","rotate","collapsible","mb-7",3,"click"],[1,"ms-2","rotate-180"],[1,"ki-duotone","ki-down","fs-3",3,"ngClass"],[1,"collapse","show",3,"ngbCollapse","ngbCollapseChange"],["collapse1","ngbCollapse"],[1,"fv-row","mb-7"],[1,"required","fw-semibold","fs-6","mb-2"],["type","text","name","name","required","","minlength","4",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["name","ngModel"],["class","fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback",4,"ngIf"],["placement","end","ngbTooltip","Email address must be active",1,"ms-1"],["name","information",1,"fs-7"],["type","email","name","email","required","","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["email","ngModel"],[1,"mb-7"],[1,"required","fw-semibold","fs-6","mb-5"],[4,"ngFor","ngForOf"],[1,"modal-footer","flex-center"],["type","reset","id","kt_modal_update_customer_cancel",1,"btn","btn-light","me-3",3,"click"],["type","submit","id","kt_modal_update_customer_submit",1,"btn","btn-primary"],[1,"indicator-label"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"fv-plugins-message-container","fv-plugins-message-container--enabled","invalid-feedback"],[4,"ngIf"],[1,"d-flex","fv-row"],[1,"form-check","form-check-custom","form-check-solid"],["name","role","type","radio",1,"form-check-input","me-3",3,"id","ngModel","value","checked","ngModelChange"],["role","ngModel"],[1,"form-check-label",3,"for"],[1,"fw-bold","text-gray-800"],[1,"text-gray-600"],["class","separator separator-dashed my-5",4,"ngIf"],[1,"separator","separator-dashed","my-5"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"app-keenicon",4)(5,"input",5),e.qZA()(),e.TgZ(6,"div",6)(7,"div",7)(8,"button",8),e._uU(9," Add User "),e.qZA()()()(),e.TgZ(10,"div",9)(11,"app-crud",10),e.NdJ("deleteEvent",function(l){return n.delete(l)})("editEvent",function(l){return n.edit(l)})("createEvent",function(){return n.create()}),e.qZA()()(),e._UZ(12,"swal",11,12),e.YNc(14,de,51,13,"ng-template",null,13,e.W1O)),2&o){const a=e.MAs(15);e.xp6(11),e.Q6J("datatableConfig",n.datatableConfig)("reload",n.reloadEvent)("modal",a),e.xp6(1),e.Q6J("swalOptions",n.swalOptions)}},dependencies:[d.mk,d.sg,d.O5,h.D,s._Y,s.Fj,s._,s.JJ,s.JL,s.Q7,s.wO,s.c5,s.On,s.F,x.q,p._D,p._L,f.q1,d.Ov,d.rS],encapsulation:2})}return i})()},{path:"exitedemployee",component:(()=>{class i{apiService;roleService;cdr;isCollapsed1=!1;isCollapsed2=!0;isLoading=!1;users;datatableConfig={};reloadEvent=new e.vpe;aUser;userModel={id:0,name:"",email:"",role:""};noticeSwal;swalOptions={};roles$;constructor(t,o,n){this.apiService=t,this.roleService=o,this.cdr=n}ngAfterViewInit(){}ngOnInit(){this.datatableConfig={serverSide:!0,stripeClasses:["odd-row","even-row"],scrollY:"calc(100vh - 200px)",scrollX:!0,ajax:(o,n)=>{this.apiService.getRecords_Status(o,"Exited").subscribe(a=>{n(a)})},columns:[{title:"EMPLOYEE CODE",data:"EMPLOYEE CODE"},{title:"Employee Name",data:"Employee Name"},{title:"Designation",data:"Designation"},{title:"City",data:"City"},{title:"State",data:"State"},{title:"Department",data:"Department"},{title:"Employment Status",data:"Employment Status"},{title:"Performance (Primary) % YTD",data:"Performance (Primary) % YTD"},{title:"YTD PDVT",data:"YTD PDVT"},{title:"YTD GRWTH",data:"YTD GRWTH"},{title:"Position Code",data:"Position Code"},{title:"ffcode_list",data:"ffcode_list"},{title:"Grade",data:"Grade"},{title:"Date of Joining",data:"Date of Joining"},{title:"Doctor Call Average % YTD",data:"Doctor Call Average % YTD"},{title:"MCL Coverage % YTD",data:"MCL Coverage % YTD"},{title:"Attrition % YTD",data:"Attrition % YTD"},{title:"Saleable Return",data:"Saleable Return"},{title:"Spread of Performance % YTD",data:"Spread of Performance % YTD"},{title:"Growth in Market Share %",data:"Growth in Market Share %"}],createdRow:function(o,n,a){$("td:eq(0)",o).addClass("d-flex align-items-center")}}}delete(t){this.apiService.deleteUser(t).subscribe(()=>{this.reloadEvent.emit(!0)})}edit(t){this.aUser=this.apiService.getUser(t),this.aUser.subscribe(o=>{this.userModel=o})}create(){this.userModel={id:0,name:"",email:""}}onSubmit(t,o){if(o&&o.invalid)return;this.isLoading=!0;const n={icon:"success",title:"Success!",text:this.userModel.id>0?"User updated successfully!":"User created successfully!"},a={icon:"error",title:"Error!",text:""},l=()=>{this.isLoading=!1};this.userModel.id>0?(()=>{this.apiService.updateUser(this.userModel.id,this.userModel).subscribe({next:()=>{this.showAlert(n),this.reloadEvent.emit(!0)},error:m=>{a.text=this.extractText(m.error),this.showAlert(a),this.isLoading=!1},complete:l})})():(()=>{this.userModel.password="test123",this.apiService.createUser(this.userModel).subscribe({next:()=>{this.showAlert(n),this.reloadEvent.emit(!0)},error:m=>{a.text=this.extractText(m.error),this.showAlert(a),this.isLoading=!1},complete:l})})()}extractText(t){var o=[];for(var n in t)"string"==typeof t[n]?o.push(t[n]):"object"==typeof t[n]&&(o=o.concat(this.extractText(t[n])));return Array.from(new Set(o)).join("\n")}showAlert(t){let o=t.icon?.toString()||"success";"error"===t.icon&&(o="danger"),this.swalOptions=Object.assign({buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-"+o}},t),this.cdr.detectChanges(),this.noticeSwal.fire()}ngOnDestroy(){this.reloadEvent.unsubscribe()}static \u0275fac=function(o){return new(o||i)(e.Y36(v.K),e.Y36(b.N),e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-exited-employee"]],viewQuery:function(o,n){if(1&o&&e.Gf(me,5),2&o){let a;e.iGM(a=e.CRH())&&(n.noticeSwal=a.first)}},decls:16,vars:4,consts:[[1,"card"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"d-flex","align-items-center","position-relative","my-1"],["name","magnifier",1,"fs-3","position-absolute","ms-5"],["type","text","data-action","filter","placeholder","Search Users",1,"form-control","form-control-solid","w-250px","ps-12"],[1,"card-toolbar"],[1,"d-flex","justify-content-end"],["type","button","data-action","create",1,"btn","btn-primary"],[1,"card-body","pt-0"],["route","/apps/users",3,"datatableConfig","reload","modal","deleteEvent","editEvent","createEvent"],[3,"swalOptions"],["noticeSwal",""],["formModal",""],[3,"ngSubmit"],["myForm","ngForm"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["id","kt_modal_update_customer_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_update_customer_header","data-kt-scroll-wrappers","#kt_modal_update_customer_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7","mw-650px"],[1,"notice","d-flex","bg-light-primary","rounded","border-primary","border","border-dashed","mb-9","p-6"],["name","information",1,"fs-2tx","text-primary","me-4"],[1,"d-flex","flex-stack","flex-grow-1"],[1,"fw-semibold"],[1,"fs-6","text-gray-700"],["href","#"],["data-bs-toggle","collapse","role","button","aria-controls","kt_modal_update_customer_user_info",1,"fw-bold","fs-3","rotate","collapsible","mb-7",3,"click"],[1,"ms-2","rotate-180"],[1,"ki-duotone","ki-down","fs-3",3,"ngClass"],[1,"collapse","show",3,"ngbCollapse","ngbCollapseChange"],["collapse1","ngbCollapse"],[1,"fv-row","mb-7"],[1,"required","fw-semibold","fs-6","mb-2"],["type","text","name","name","required","","minlength","4",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["name","ngModel"],["class","fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback",4,"ngIf"],["placement","end","ngbTooltip","Email address must be active",1,"ms-1"],["name","information",1,"fs-7"],["type","email","name","email","required","","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["email","ngModel"],[1,"mb-7"],[1,"required","fw-semibold","fs-6","mb-5"],[4,"ngFor","ngForOf"],[1,"modal-footer","flex-center"],["type","reset","id","kt_modal_update_customer_cancel",1,"btn","btn-light","me-3",3,"click"],["type","submit","id","kt_modal_update_customer_submit",1,"btn","btn-primary"],[1,"indicator-label"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"fv-plugins-message-container","fv-plugins-message-container--enabled","invalid-feedback"],[4,"ngIf"],[1,"d-flex","fv-row"],[1,"form-check","form-check-custom","form-check-solid"],["name","role","type","radio",1,"form-check-input","me-3",3,"id","ngModel","value","checked","ngModelChange"],["role","ngModel"],[1,"form-check-label",3,"for"],[1,"fw-bold","text-gray-800"],[1,"text-gray-600"],["class","separator separator-dashed my-5",4,"ngIf"],[1,"separator","separator-dashed","my-5"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"app-keenicon",4)(5,"input",5),e.qZA()(),e.TgZ(6,"div",6)(7,"div",7)(8,"button",8),e._uU(9," Add User "),e.qZA()()()(),e.TgZ(10,"div",9)(11,"app-crud",10),e.NdJ("deleteEvent",function(l){return n.delete(l)})("editEvent",function(l){return n.edit(l)})("createEvent",function(){return n.create()}),e.qZA()()(),e._UZ(12,"swal",11,12),e.YNc(14,Ce,51,13,"ng-template",null,13,e.W1O)),2&o){const a=e.MAs(15);e.xp6(11),e.Q6J("datatableConfig",n.datatableConfig)("reload",n.reloadEvent)("modal",a),e.xp6(1),e.Q6J("swalOptions",n.swalOptions)}},dependencies:[d.mk,d.sg,d.O5,h.D,s._Y,s.Fj,s._,s.JJ,s.JL,s.Q7,s.wO,s.c5,s.On,s.F,x.q,p._D,p._L,f.q1,d.Ov,d.rS],encapsulation:2})}return i})()},{path:"",redirectTo:"allemployee",pathMatch:"full"},{path:"**",redirectTo:"allemployee",pathMatch:"full"}]}];let Te=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[g.Bz.forChild(ye),g.Bz]})}return i})();var Ze=c(6832),Ee=c(9155),Ae=c(4955);let Me=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[d.ez,Ee.Z,s.u5,s.UX,Ae.m,T.T,Te,y.HB,y._9,Ze.p,p.Oz,p.XC,p.lQ,p.HK,f.ii.forChild()]})}return i})()}}]);