"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[326],{4468:(U,y,a)=>{a.d(y,{N:()=>E});var e=a(5879),b=a(9862);let E=(()=>{class c{http;apiUrl="https://preview.keenthemes.com/starterkit/metronic/laravel/api/v1/roles";constructor(t){this.http=t}getUsers(t,n){return this.http.post(`${this.apiUrl}/${t}/users`,n)}getRoles(t){return this.http.post(`${this.apiUrl}-list`,t)}getRole(t){return this.http.get(`${this.apiUrl}/${t}`)}createRole(t){return this.http.post(this.apiUrl,t)}updateRole(t,n){return this.http.put(`${this.apiUrl}/${t}`,n)}deleteRole(t){return this.http.delete(`${this.apiUrl}/${t}`)}deleteUser(t,n){return this.http.delete(`${this.apiUrl}/${t}/users/${n}`)}static \u0275fac=function(n){return new(n||c)(e.LFG(b.eN))};static \u0275prov=e.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()},7112:(U,y,a)=>{a.d(y,{K:()=>E});var e=a(5879),b=a(9862);let E=(()=>{class c{http;apiUrl="https://preview.keenthemes.com/starterkit/metronic/laravel/api/v1/users";getAllRecords="https://zu-backend.onrender.com/records/getRecords";ffcodes="https://zu-backend.onrender.com/records/ffcodes";constructor(t){this.http=t}getRecords_Status(t,n){const s=`${this.getAllRecords}`;return t.filter={"Employment Status":n},this.http.post(s,t)}getRecords(t){return this.http.post(`${this.getAllRecords}`,t)}getFFcodes(t){return this.http.post(`${this.ffcodes}`,t)}getUsers(t){return this.http.post(`${this.apiUrl}-list`,t)}getUser(t){return this.http.get(`${this.apiUrl}/${t}`)}createUser(t){return this.http.post(this.apiUrl,t)}updateUser(t,n){return this.http.put(`${this.apiUrl}/${t}`,n)}deleteUser(t){return this.http.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(n){return new(n||c)(e.LFG(b.eN))};static \u0275prov=e.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()},431:(U,y,a)=>{a.d(y,{D:()=>_});var e=a(5879),b=a(627),E=a(2438),c=a(6321),T=a(9360),t=a(8251),s=a(7398),d=a(7304),u=a(1274),l=a(6814),f=a(5722);const g=["deleteSwal"],C=["successSwal"];function m(h,w){if(1&h&&(e.ynx(0),e.TgZ(1,"th",9),e._uU(2),e.qZA(),e.BQk()),2&h){const p=w.$implicit;e.xp6(2),e.Oqu(p.title)}}const O=function(){return{confirmButton:"btn btn-danger",cancelButton:"btn btn-active-light"}},v=function(){return{confirmButton:"btn btn-success"}};let _=(()=>{class h{renderer;router;modalService;datatableConfig={};route="/";reload;modal;deleteEvent=new e.vpe;editEvent=new e.vpe;createEvent=new e.vpe;dtOptions={};datatableElement;deleteSwal;successSwal;idInAction;modalConfig={modalDialogClass:"modal-dialog modal-dialog-centered mw-650px"};swalOptions={buttonsStyling:!1};modalRef;clickListener;constructor(p,i,o){this.renderer=p,this.router=i,this.modalService=o}ngOnInit(){this.dtOptions={dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",processing:!0,language:{processing:'<span class="spinner-border spinner-border-sm align-middle"></span> Loading...'},...this.datatableConfig},this.renderActionColumn(),this.setupSweetAlert(),this.reload&&this.reload.subscribe(p=>{this.modalService.dismissAll(),this.datatableElement.dtInstance.then(i=>i.ajax.reload())})}renderActionColumn(){this.dtOptions.columns&&this.dtOptions.columns.push({sortable:!1,title:"Actions",render:(i,o,r)=>{const R=`\n          <button class="btn btn-icon btn-active-light-primary w-30px h-30px" data-action="delete" data-id="${r.id}">\n            <i class="ki-duotone ki-trash fs-3">\n              <span class="path1"></span><span class="path2"></span>\n              <span class="path3"></span><span class="path4"></span><span class="path5"></span>\n            </i>\n          </button>`,M=[];return this.editEvent.observed&&M.push(`\n          <button class="btn btn-icon btn-active-light-primary w-30px h-30px me-3" data-action="edit" data-id="${r.id}">\n            <i class="ki-duotone ki-pencil fs-3"><span class="path1"></span><span class="path2"></span></i>\n          </button>`),this.deleteEvent.observed&&M.push(R),M.join("")}})}ngAfterViewInit(){this.clickListener=this.renderer.listen(document,"click",p=>{const i=p.target.closest(".btn");if(i){const{action:o,id:r}=i.dataset;switch(this.idInAction=r,o){case"view":this.router.navigate([`${this.route}/${r}`]);break;case"create":this.createEvent.emit(!0),this.modalRef=this.modalService.open(this.modal,this.modalConfig);break;case"edit":this.editEvent.emit(this.idInAction),this.modalRef=this.modalService.open(this.modal,this.modalConfig);break;case"delete":this.deleteSwal.fire().then(A=>{A.isConfirmed&&this.successSwal.fire()})}}}),this.triggerFilter()}ngOnDestroy(){this.reload.unsubscribe(),this.clickListener&&this.clickListener(),this.modalService.dismissAll()}triggerDelete(){this.deleteEvent.emit(this.idInAction)}triggerFilter(){(0,E.R)(document,"keyup").pipe(function n(h,w=c.z){return(0,T.e)((p,i)=>{let o=null,r=null,A=null;const R=()=>{if(o){o.unsubscribe(),o=null;const D=r;r=null,i.next(D)}};function M(){const D=A+h,P=w.now();if(P<D)return o=this.schedule(void 0,D-P),void i.add(o);R()}p.subscribe((0,t.x)(i,D=>{r=D,A=w.now(),o||(o=w.schedule(M,h),i.add(o))},()=>{R(),i.complete()},void 0,()=>{r=o=null}))})}(50),(0,s.U)(p=>{const i=p.target,o=i.getAttribute("data-action"),r=i.value?.trim().toLowerCase();return{action:o,value:r}})).subscribe(({action:p,value:i})=>{"filter"===p&&this.datatableElement.dtInstance.then(o=>o.search(i).draw())})}setupSweetAlert(){this.swalOptions={buttonsStyling:!1}}static \u0275fac=function(i){return new(i||h)(e.Y36(e.Qsj),e.Y36(d.F0),e.Y36(u.FF))};static \u0275cmp=e.Xpm({type:h,selectors:[["app-crud"]],viewQuery:function(i,o){if(1&i&&(e.Gf(b.G,5),e.Gf(g,5),e.Gf(C,5)),2&i){let r;e.iGM(r=e.CRH())&&(o.datatableElement=r.first),e.iGM(r=e.CRH())&&(o.deleteSwal=r.first),e.iGM(r=e.CRH())&&(o.successSwal=r.first)}},inputs:{datatableConfig:"datatableConfig",route:"route",reload:"reload",modal:"modal"},outputs:{deleteEvent:"deleteEvent",editEvent:"editEvent",createEvent:"createEvent"},decls:9,vars:10,consts:[["datatable","",1,"table","align-middle","table-row-dashed","fs-6","gy-5","dataTable","no-footer",3,"dtOptions"],[1,"header-bg-color"],[1,"text-start","text-gray-500","fw-bold","fs-7","text-uppercase","gs-0"],[4,"ngFor","ngForOf"],[1,"fw-semibold","text-gray-600"],["title","Are you sure to delete?","text","This cannot be undone","icon","warning",3,"swalOptions","showCancelButton","focusCancel","customClass","confirm"],["deleteSwal",""],["title","Delete successfully!","text","","icon","success",3,"swalOptions","customClass"],["successSwal",""],["dtColumnDef","",1,"text-center","vertical-align-center"]],template:function(i,o){1&i&&(e.TgZ(0,"table",0)(1,"thead",1)(2,"tr",2),e.YNc(3,m,3,1,"ng-container",3),e.qZA()(),e._UZ(4,"tbody",4),e.qZA(),e.TgZ(5,"swal",5,6),e.NdJ("confirm",function(){return o.triggerDelete()}),e.qZA(),e._UZ(7,"swal",7,8)),2&i&&(e.Q6J("dtOptions",o.dtOptions),e.xp6(3),e.Q6J("ngForOf",o.dtOptions.columns),e.xp6(2),e.Q6J("swalOptions",o.swalOptions)("showCancelButton",!0)("focusCancel",!0)("customClass",e.DdM(8,O)),e.xp6(2),e.Q6J("swalOptions",o.swalOptions)("customClass",e.DdM(9,v)))},dependencies:[l.sg,b.G,f.q1],styles:[".text-center[_ngcontent-%COMP%]{text-align:center}.vertical-align-center[_ngcontent-%COMP%]{vertical-align:middle}.odd-row[_ngcontent-%COMP%]{background-color:#f2f2f2}.even-row[_ngcontent-%COMP%]{background-color:#fff}.header-bg-color[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2;color:#000}"]})}return h})()},9155:(U,y,a)=>{a.d(y,{Z:()=>t});var e=a(6814),b=a(627),E=a(5722),c=a(1274),T=a(5879);let t=(()=>{class n{static \u0275fac=function(u){return new(u||n)};static \u0275mod=T.oAB({type:n});static \u0275inj=T.cJS({imports:[e.ez,b.T,E.ii.forChild(),c.bz]})}return n})()},627:(U,y,a)=>{a.d(y,{G:()=>E,T:()=>T});var e=a(5879),E=function(){function t(n,s,d){this.el=n,this.vcr=s,this.renderer=d,this.dtOptions={}}return t.prototype.ngOnInit=function(){var n=this;this.dtTrigger?this.dtTrigger.subscribe(function(s){n.displayTable(s)}):this.displayTable(null)},t.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},t.prototype.displayTable=function(n){var s=this;n&&(this.dtOptions=n),this.dtInstance=new Promise(function(d,u){Promise.resolve(s.dtOptions).then(function(l){0===Object.keys(l).length&&0===$("tbody tr",s.el.nativeElement).length?u("Both the table and dtOptions cannot be empty"):setTimeout(function(){var g={rowCallback:function(C,m,O){if(l.columns){var v=l.columns;s.applyNgPipeTransform(C,v),s.applyNgRefTemplate(C,v,m)}l.rowCallback&&l.rowCallback(C,m,O)}};g=Object.assign({},l,g),s.dt=$(s.el.nativeElement).DataTable(g),d(s.dt)})})})},t.prototype.applyNgPipeTransform=function(n,s){s.filter(function(u){return u.ngPipeInstance&&!u.ngTemplateRef}).forEach(function(u){var l=u.ngPipeInstance,f=u.ngPipeArgs||[],g=s.filter(function(v){return!1!==v.visible}).findIndex(function(v){return v.data===u.data}),C=n.childNodes.item(g),m=$(C).text(),O=l.transform.apply(l,function(t,n,s){if(s||2===arguments.length)for(var l,d=0,u=n.length;d<u;d++)(l||!(d in n))&&(l||(l=Array.prototype.slice.call(n,0,d)),l[d]=n[d]);return t.concat(l||Array.prototype.slice.call(n))}([m],f,!1));$(C).text(O)})},t.prototype.applyNgRefTemplate=function(n,s,d){var u=this;s.filter(function(f){return f.ngTemplateRef&&!f.ngPipeInstance}).forEach(function(f){var g,C=(g=f.ngTemplateRef).ref,m=g.context,O=s.filter(function(w){return!1!==w.visible}).findIndex(function(w){return w.data===f.data}),v=n.childNodes.item(O);$(v).html("");var _=Object.assign({},m,m?.userData,{adtData:d}),h=u.vcr.createEmbeddedView(C,_);u.renderer.appendChild(v,h.rootNodes[0])})},t.\u0275fac=function(s){return new(s||t)(e.Y36(e.SBq),e.Y36(e.s_b),e.Y36(e.Qsj))},t.\u0275dir=e.lG2({type:t,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),t}(),c=a(6814),T=function(){function t(){}return t.forRoot=function(){return{ngModule:t}},t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.ez]}),t}()}}]);